<form novalidate ng-controller="mainController">
  <div class="devHelper2"></div>
  
  <div>
    <label>Reference type
      <select ui-select2="{allowClear: true }" placeholder="Select a reference type..." ng-model="user.referees[0].type.val" on-focus="focus(user.referees[0].type)" on-blur="blur(user.referees[0].type)">
        <option value=""></option>
        <option ng-repeat="referenceType in referenceTypes" value="{{referenceType.id}}">{{referenceType.name}}</option>
      </select>
    </label>
  </div>
  <div>
    <label ng-class="user.referees[0].name.getClass()">Referee name
      <input type="text" ng-model="user.referees[0].name.val" on-focus="focus(user.referees[0].name)" on-blur="blur(user.referees[0].name)">
    </label>
  </div>
  <div>
    <label ng-class="user.referees[0].email.getClass()">Referee email
      <input type="text" ng-model="user.referees[0].email.val" on-focus="focus(user.referees[0].email)" on-blur="blur(user.referees[0].email)">
    </label>
  </div>
  <div>
    <label ng-class="user.referees[0].institution.getClass()">Referee's Institution
      <input type="text" ng-model="user.referees[0].institution.val" on-focus="focus(user.referees[0].institution)" on-blur="blur(user.referees[0].institution)">
    </label>
  </div>
  <div>
    <label>Referee position
      <select ui-select2="{allowClear: true }" placeholder="Select a position..." ng-model="user.referees[0].position.val" on-focus="focus(user.referees[0].position)" on-blur="blur(user.referees[0].position)">
        <option value=""></option>
        <option ng-repeat="refereePosition in refereePositions" value="{{refereePosition.id}}">{{refereePosition.name}}</option>
      </select>
    </label>
  </div>
  <div>
    <label>Referee telephone code
      <select ui-select2="{allowClear: true }" placeholder="Select a country code..." ng-model="user.referees[0].countryCode.val" on-focus="focus(user.referees[0].countryCode)" on-blur="blur(user.referees[0].countryCode)">
        <option value=""></option>
        <option ng-repeat="country in countries" value="{{country.id}}">{{country.name}}</option>
      </select>
    </label>
  </div>
  <div>
    <label ng-class="user.referees[0].phoneNumber.getClass()">Referee's phone number
      <input type="text" ng-model="user.referees[0].phoneNumber.val" on-focus="focus(user.referees[0].phoneNumber)" on-blur="blur(user.referees[0].phoneNumber)">
    </label>
  </div>

  <div>
    <button class="btn btn-primary" ng-click="setLocation(2, 2)" ng-disabled="!user.getPage(2, 1).getIsSufficient()">Continue</button>
    <button class="btn" ng-click="doLater()">Do Later</button>
    <button class="btn btn-primary" ng-click="setLocation(2, 2)" ng-disabled="!user.getPage(2, 1).getIsSufficient()">Add another referee</button>
  </div>
</form>

